<html>

<head>


  <title>Long-Short Term Memory model</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://unpkg.com/alpinejs-textarea-grow@latest/dist/grow.min.js"></script>
  <script src="https://unpkg.com/@alpinejs/collapse@latest/dist/cdn.min.js"></script>
  <script src="//unpkg.com/alpinejs"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
  <script src="./scripts.js/reactive.js"></script>
  <script src="./recurrent.js"></script>
  <script src="./lstm.js"></script>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />

</head>

<body
  class="bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-gray-200 via-zinc-300 to-cyan-50">

  <div class="grid grid-cols-1 p-8 gap-4 lg:grid-cols-3 lg:gap-8">
    <div class="rounded-lg lg:col-span-2">
      <div class="grid grid-cols-1 gap-4 lg:grid-cols-2 lg:gap-8">
        <div class="rounded-lg  place-items-center  items-center">
          <div class="">
            Network
            <canvas id="networkCanvas" class="w-96 h-52"></canvas>
            <div>


              <div class="flex mb-2 p-1 bg-gray-100  items-center rounded-full">
                <button x-on:click="data.params.hidden_sizes.pop(); drawNetwork();" type="button"
                  class="size-10 leading-10 text-2xl text-gray-600 transition hover:opacity-75">
                  &minus;
                </button>

                <p class="text-gray-600 w-full text-center">Layers </p>

                <button x-on:click="data.params.hidden_sizes.push(data.params.neurons);drawNetwork();" type="button"
                  class="size-10 text-2xl leading-10 text-gray-600 transition hover:opacity-75">
                  &plus;
                </button>
              </div>
              <div class="flex p-1 bg-gray-100  items-center rounded-full ">
                <button x-on:click="data.params.neurons--;decrementHiddenSizes();" type="button"
                  class="size-10 text-2xl leading-10 text-gray-600 transition hover:opacity-75">
                  &minus;
                </button>

                <p class="text-gray-600 w-full text-center">Neurons </p>

                <button x-on:click="data.params.neurons++;addHiddenSize();" type="button"
                  class="size-10 leading-10 text-2xl text-gray-600 transition hover:opacity-75">
                  &plus;
                </button>
              </div>
            </div>
          </div>
        </div>
        <!--End of inner-->
        <div class=" rounded-lg ">
          <div class="grid grid-cols-2  place-items-center">
            <div class=" bg-zinc-100 text-center flex rounded-full">
            <span class="">Learning rate</span>
          
            <div class="flex items-center w-32 mr-1 mt-1.5  rounded-full bg-gray-100 mb-2 p-1">
              <button x-on:click="data.params.learning_rate += -0.01" type="button"
                class="size-10 leading-10 text-gray-600 transition hover:opacity-75">
                &minus;
              </button>
              <p class="text-gray-600 w-full text-center" x-text="data.params.learning_rate"></p>
              <button x-on:click="data.params.learning_rate += 0.01" type="button"
                class="size-10 leading-10 text-gray-600 transition hover:opacity-75">
                &plus;
              </button>
            </div>
            </div>

<div class="bg-zinc-400 rounded-full flex items center">
            <span>Letter size</span>
            <div class="flex items-center w-32 rounded-full bg-gray-100 mb-2 p-1">
              <button x-on:click="data.params.letter_size--" type="button"
                class="size-10 leading-10 text-gray-600 transition hover:opacity-75">
                &minus;
              </button>
              <p class="text-gray-600 w-full text-center" x-text="data.params.letter_size"></p>
              <button x-on:click="data.params.letter_size++" type="button"
                class="size-10 leading-10 text-gray-600 transition hover:opacity-75">
                &plus;
              </button>
            </div>
</div>

            <p>Max Tokens</p>
            <div class="flex w-32 items-center rounded-full bg-gray-100 mb-2 p-1">
              <button x-on:click="data.generate.max_tokens--" type="button"
                class="size-10 leading-10 text-gray-600 transition hover:opacity-75">
                &minus;
              </button>

              <p class="text-gray-600 w-full text-center" x-text="data.generate.max_tokens"></p>

              <button x-on:click="data.generate.max_tokens++" type="button"
                class="size-10 leading-10 text-gray-600 transition hover:opacity-75">
                &plus;
              </button>
            </div>
            <p>temperature</p>
            <div class="flex items-center w-32 rounded-full bg-gray-100 p-1">
              <button x-on:click="data.generate.temperature += -0.10" type="button"
                class="size-10 leading-10 text-gray-600 transition hover:opacity-75">
                &minus;
              </button>

              <p class="text-gray-600 w-full text-center" x-text="data.generate.temperature"></p>

              <button x-on:click="data.generate.temperature += 0.10" type="button"
                class="size-10 leading-10 text-gray-600 transition hover:opacity-75">
                &plus;
              </button>
            </div>
          </div>
          <div>
          </div>
        </div>
      </div>
    </div>
    <div class="h-32 rounded-lg bg-gray-200">
      <article class="flex flex-col gap-4 rounded-lg border border-gray-100 bg-zinc-900 p-6">
        <div class="inline-flex self-end rounded text-white">
          <div id="area-chart"></div>

          <span class="text-xs font-medium" x-text="`Epoch ${data.stats.epoch}`"></span>
        </div>

        <div>
          <strong class="block text-xl font-medium text-white">Perplexity</strong>

          <p>
            <span class="text-4xl font-medium text-gray-100" x-text="data.stats.preplexity"></span>

            <p class="text-xs text-gray-50"> Low is good</p>
          </p>
        </div>
      </article>



    </div>
  </div>
  <div class=" rounded-lg ">
    Iput Text
    <textarea x-data x-grow rows="4" x-model="data.inputText" x-text="data.inputText"
      placeholder="Lorem, ipsum dolor sit amet consectetur adipisicing elit..."
      class="w-full resize-none border-x-0 border-t-0 border-indigo-900 px-0 align-top sm:text-sm"></textarea>
  </div>

  <span class="flex items-center">
    <button
      class="inline-block rounded-full border border-black p-3 m-6  bg-black text-white focus:outline-none focus: active:bg-black-500"
      x-data="{ isToggled: true }" href="#" x-on:click="isToggled = !isToggled; isToggled ? learn() : stop()">
      <span class="sr-only"> Download </span>

      <span x-text="isToggled ? 'pause' : 'play_arrow'" class="material-symbols-rounded">

      </span>
    </button>
    <span class="h-px flex-1 bg-black"></span>
  </span>



  <!--Start of Text Generation-->
  <div class="grid grid-cols-1 gap-4">
    <div class=" rounded-lg">
      <span class="material-symbols-rounded">
        edit_note
      </span>

      <div class="grid grid-cols-1 gap-4 lg:grid-cols-3 lg:gap-8">

        <div class=" rounded-lg">
          <div>Tokenized:
            <div x-data="highlightTokens()">
              <template x-for="(char, index) in data.inputText" :key="index">
                <span x-text="char" x-bind:style="'background-color: ' + getTokenColor(char)"></span>
              </template>
            </div>


          </div>
        </div>
        <div class=" rounded-lg">
          Generated Text:
          <div class="bg-red-200 h-64" x-text="data.prediction"></div>

        </div>
      </div>
    </div>
  </div>
  <!--End of Text generation-->


  <script src="./scripts.js/canvas.js"></script>
</body>

</html>